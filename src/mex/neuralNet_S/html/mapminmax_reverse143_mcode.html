<div class="dead">
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1"> 1</a></span><span class="line">function [y1] = neuralNet_S(x1)</span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%MYNEURALNETWORKFUNCTION neural network simulation function.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">% Generated by Neural Network Toolbox function genFunction, 19-Feb-2017 22:02:48.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5"> 5</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">% [y1] = myNeuralNetworkFunction(x1) takes these arguments:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">%   x = 10xQ matrix, input #1</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8"> 8</a></span><span class="line"><span class="comment">% and returns:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9"> 9</a></span><span class="line"><span class="comment">%   y = 1xQ matrix, output #1</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10">10</a></span><span class="line"><span class="comment">% where Q is the number of samples.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11">11</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12">12</a></span><span class="line"><span class="comment">%#ok&lt;*RPMT0&gt;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13">13</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14">14</a></span><span class="line"><span class="comment">% ===== NEURAL NETWORK CONSTANTS =====</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15">15</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16">16</a></span><span class="line"><span class="comment">% Input 1</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17">17</a></span><span class="line">x1_step1.xoffset = [1;26.19;15.25;60.5;25.5;14.43;6;25.54;14.74;0];</span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18">18</a></span><span class="line">x1_step1.gain = [0.0512820512820513;0.704225352112676;0.816326530612245;0.00880281690140845;0.448430493273543;0.510204081632653;0.01318391562294;0.371747211895911;0.431034482758621;0.0157977883096367];</span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19">19</a></span><span class="line">x1_step1.ymin = -1;</span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20">20</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21">21</a></span><span class="line"><span class="comment">% Layer 1</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22">22</a></span><span class="line">b1 = [-1.3433139294433666944;2.9702528638410456985;0.24536818476283334123;-0.37109896544531889573;-0.4003253112118624335;-0.17989278625731724981;-0.36765880072547546531;0.65057297940171066042;-1.6580077540523503465;-2.0009640137764592716];</span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23">23</a></span><span class="line">IW1_1 = [1.4669445499337625538 1.715477871782894681 0.24336738418253867078 0.54222541429924953071 0.051636789499365093326 -0.44994977469297531281 -1.5615303062088337072 1.1270777647982754832 0.13528157567209289636 -0.007651947256124370933;-0.7614022577672993064 -1.5546589246228912362 -0.014744241421202623071 -0.49578426667598107791 0.030800772534558366889 -0.21657519951865256136 1.1511726508703301608 -2.8179019463618781849 0.36165394564214631279 0.32500388415005593279;1.6636213772743095873 -0.20350889698582991238 0.47911979522738312731 -1.442726385756931462 0.57362665279217817105 0.055551148835690927763 -0.79770494805221248136 -1.5788742284675238992 -0.16230487564039142168 -0.85603013938592620313;2.0693295851222024417 0.57165901088878778857 0.84977251374719975363 0.52968178474967186897 -0.47452661813017343873 -0.28859033266381811655 0.81027547013875111936 -1.4070308286699146905 -0.55398816143457418892 -0.34946614014864690878;-0.88944149073403344641 -0.42190965156390985991 -0.62312505678629892536 -0.51476676242874996881 0.91731670678289278786 0.47756953147171227192 -0.60121352348078660466 0.047157194313993566759 0.98555715271030774893 0.57811560721016075348;-0.29730476862412336114 0.12239362277464542472 -0.64388863695322084979 0.28875709142807443053 1.3137811809299149157 0.27677694171695377268 2.6666266939141709535 -0.28998918498466069726 -1.1420235515840555518 -1.0439637034705544494;1.5963567155494826633 -0.90518312289144453597 -0.52460320606156840562 -0.91713350823911499177 0.32672481321963919854 -0.71197048608078428167 -0.57130696975912009794 -1.254932444776249989 0.84292061853076671873 -0.42153880685476752266;0.67228414745054454471 -0.17974889907152005741 1.4819790552981797482 -0.88276750292650618679 0.66850931371705402118 -0.23967639512692859305 0.23866919618864498864 -0.20503480402469428934 -0.36319816674055827033 0.42982983418662445985;-0.59716247809743949748 -1.0088288788782191485 -0.69965605239976214058 0.3317045074489380907 -0.88667906121694872734 -1.4526438890235437995 -0.21927607686053018909 -0.28554965799213483102 0.078439178276672683054 -0.001882613950717659107;-0.4083961215550072632 -0.16278147160059078247 -1.092001623447349079 0.26027084188662230613 -0.24370454619709880362 -0.36479337271649447949 0.22236362086962224716 0.7846784766907541897 -1.0884649606543350675 -0.54128710828325932169];</span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24">24</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25">25</a></span><span class="line"><span class="comment">% Layer 2</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26">26</a></span><span class="line">b2 = 0.67724556926569534632;</span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27">27</a></span><span class="line">LW2_1 = [0.11253849369269046388 -0.16518121045598188612 1.0853428423820776771 0.67033842589257364164 0.95824673340733879101 0.58665447259115710565 -0.8152256331591820615 -0.30637963277956392627 1.0796566248444461333 -0.0041818705746603842405];</span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28">28</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29">29</a></span><span class="line"><span class="comment">% Output 1</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30">30</a></span><span class="line">y1_step1.ymin = -1;</span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31">31</a></span><span class="line">y1_step1.gain = 0.00403225806451613;</span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32">32</a></span><span class="line">y1_step1.xoffset = 62;</span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33">33</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34">34</a></span><span class="line"><span class="comment">% ===== SIMULATION ========</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35">35</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36">36</a></span><span class="line"><span class="comment">% Dimensions</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37">37</a></span><span class="line">Q = size(x1,2); <span class="comment">% samples</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38">38</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39">39</a></span><span class="line"><span class="comment">% Input 1</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40">40</a></span><span class="line">xp1 = mapminmax_apply(x1,x1_step1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41">41</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42">42</a></span><span class="line"><span class="comment">% Layer 1</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43">43</a></span><span class="line">a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44">44</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45">45</a></span><span class="line"><span class="comment">% Layer 2</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46">46</a></span><span class="line">a2 = repmat(b2,1,Q) + LW2_1*a1;</span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47">47</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48">48</a></span><span class="line"><span class="comment">% Output 1</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49">49</a></span><span class="line">y1 = mapminmax_reverse(a2,y1_step1);</span></span>
<span class="srcline"><span class="lineno"><a href="1,50" id="srcline50">50</a></span><span class="line">end</span></span>
<span class="srcline"><span class="lineno"><a href="1,51" id="srcline51">51</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,52" id="srcline52">52</a></span><span class="line"><span class="comment">% ===== MODULE FUNCTIONS ========</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,53" id="srcline53">53</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,54" id="srcline54">54</a></span><span class="line"><span class="comment">% Map Minimum and Maximum Input Processing Function</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,55" id="srcline55">55</a></span><span class="line">function y = mapminmax_apply(x,settings)</span></span>
<span class="srcline"><span class="lineno"><a href="1,56" id="srcline56">56</a></span><span class="line">y = bsxfun(@minus,x,settings.xoffset);</span></span>
<span class="srcline"><span class="lineno"><a href="1,57" id="srcline57">57</a></span><span class="line">y = bsxfun(@times,y,settings.gain);</span></span>
<span class="srcline"><span class="lineno"><a href="1,58" id="srcline58">58</a></span><span class="line">y = bsxfun(@plus,y,settings.ymin);</span></span>
<span class="srcline"><span class="lineno"><a href="1,59" id="srcline59">59</a></span><span class="line">end</span></span>
<span class="srcline"><span class="lineno"><a href="1,60" id="srcline60">60</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,61" id="srcline61">61</a></span><span class="line"><span class="comment">% Sigmoid Symmetric Transfer Function</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,62" id="srcline62">62</a></span><span class="line">function a = tansig_apply(n,~)</span></span>
<span class="srcline"><span class="lineno"><a href="1,63" id="srcline63">63</a></span><span class="line">a = 2 ./ (1 + exp(-2*n)) - 1;</span></span>
<span class="srcline"><span class="lineno"><a href="1,64" id="srcline64">64</a></span><span class="line">end</span></span>
</pre>
</div>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,65" id="srcline65">65</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,66" id="srcline66">66</a></span><span class="line"><span class="comment">% Map Minimum and Maximum Output Reverse-Processing Function</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,67" id="srcline67">67</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S32T1U422">x</span> = mapminmax_reverse(<span class="var type1" id="S33T1U425">y</span>,<span class="var type1" id="S34T6U426">settings</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,68" id="srcline68">68</a></span><span class="line"><span class="mxinfo " id="T1:U4"><span class="var type1" id="S32T1U429">x</span> = <span class="mxinfo " id="T1:U6">bsxfun(@minus,<span class="var type1" id="S33T1U434">y</span>,<span class="mxinfo " id="T1:U8"><span class="var type1" id="S34T6U436">settings</span>.ymin</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,69" id="srcline69">69</a></span><span class="line"><span class="mxinfo " id="T1:U10"><span class="var type1" id="S32T1U440">x</span> = <span class="mxinfo " id="T1:U12">bsxfun(@rdivide,<span class="var type1" id="S32T1U445">x</span>,<span class="mxinfo " id="T1:U14"><span class="var type1" id="S34T6U447">settings</span>.gain</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,70" id="srcline70">70</a></span><span class="line"><span class="mxinfo " id="T1:U16"><span class="var type1" id="S32T1U451">x</span> = <span class="mxinfo " id="T1:U18">bsxfun(@plus,<span class="var type1" id="S32T1U456">x</span>,<span class="mxinfo " id="T1:U20"><span class="var type1" id="S34T6U458">settings</span>.xoffset</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,71" id="srcline71">71</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
